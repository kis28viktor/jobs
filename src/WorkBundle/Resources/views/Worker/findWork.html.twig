{% extends '@Work/layout.html.twig' %}
{% block content %}
    <div class="large-8 columns">
        <form action="{{ path('find_work') }}" method="post">
            <div class="center">
                <div class="row">
                    <div class="large-4 columns">
                        <label>City: </label>
                        <input type="text" name="city"
                               {% if city %}value="{{ city }}"{% endif %}>
                    </div>
                    <div class="large-4 columns">
                        <label>Age from: </label>
                        <input type="number" name="ageFrom"
                               {% if ageFrom %}value="{{ ageFrom }}"{% endif %}>
                    </div>
                    <div class="large-4 columns">
                        <label>Age to: </label>
                        <input type="number" name="ageTo"
                               {% if ageTo %}value="{{ ageTo }}"{% endif %}>
                    </div>
                </div>
                <div class="row">
                    <div class="large-3 columns">
                        <label>Price from: </label>
                        <input type="number" name="priceFrom"
                               {% if priceFrom %}value="{{ priceFrom }}"{% endif %}>
                    </div>
                    <div class="large-3 columns">
                        <label>Price to: </label>
                        <input type="number" name="priceTo"
                               {% if priceTo %}value="{{ priceTo }}"{% endif %}>
                    </div>
                    <div class="large-3 columns">
                        <label>Gender: </label>
                        <select name="gender[]">
                            <option disabled>gender</option>
                            <option value="all">all</option>
                            {% for key,currentGender in genders %}
                                <option value="{{ key }}"
                                        {% if (gender) and (gender[0] == key) %}selected {% endif %}>
                                    {{ currentGender }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="large-3 columns">
                        <label>Choose your categories </label>
                        <select name="categories[]">
                            <option selected disabled>Choose the category</option>
                            <option value="all">all</option>
                            {% for key,category in categories  %}
                                <option value="{{ key }}"{% if (curCategory) and (curCategory == key) %} selected{% endif %}>{{ category }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>




                Term from: <input type="date" name="termFrom" {% if termFrom %}value="{{ termFrom }}"{% endif %}>
                Term to: <input type="date" name="termTo" {% if termTo %}value="{{ termTo }}"{% endif %}>

                <br>
                <br><input type="submit" value="find">
            </div>

        </form>
    </div>
{% endblock %}
{% block table %}
    <div class="count">
        Total <b>{{ pagination.getTotalItemCount }}</b> items found:
    </div>
    <table style="border: 1px solid #000000; word-break: break-all; width: 100%">
        <tr style="border: 1px solid #000000;">
            <td>Name</td>
            <td>Phone</td>
            <td>City</td>
            <td>Age from</td>
            <td>Age to</td>
            <td>Price from</td>
            <td>Price to</td>
            <td>Term from</td>
            <td>Term to</td>
            <td>Categories</td>
            <td>About Me</td>
            <td>Post date</td>
        </tr>
        {% for employer in pagination %}
            <tr >
                <td>{{employer.name}}</td>
                <td>{{employer.phone}}</td>
                <td>{{employer.city}}</td>
                <td>{{employer.ageFrom}}</td>
                <td>{{employer.ageTo}}</td>
                <td>{{employer.priceFrom}}</td>
                <td>{{employer.priceTo}}</td>
                <td>{{employer.termFrom}}</td>
                <td>{{employer.termTo}}</td>
                <td>{% for category in employer.categories %}
                        {% if category is iterable %}
                            <br>
                            {% for categoryName in category %}
                                {{ categoryName }}<br>
                            {% endfor %}
                        {% else %}
                            {{ category }}
                        {% endif %}
                    {% endfor %}
                </td>
                <td style="width: 30%;">{{employer.aboutMe}}</td>
                <td>{{ employer.postDate }}</td>
            </tr>
        {% endfor %}
    </table>
    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}